
{% asset 'ckanext-sfb-layout/stages-css' %}
{% asset 'ckanext-sfb-layout/stages-js' %}

{% set s = h.get_stages_class(stages) %}
{% set orders = ['second', 'third', 'forth'] %}
{% set titles = ['Add data', 'Metadata', 'Ownership', 'Equipment(s)'] %}


<ol class="stages stage-4">
    <li class="first {{ s[0] }}">
        {% if s1 != 'complete' %}
        <span class="highlight">{{ _('dataset') }}</span>
        {% else %}
        <button class="highlight" name="save" value="go-dataset" type="submit">{{ _('dataset') }}</button>
        {% endif %}
    </li>

    {% for i in range(1, h.stages_count() + 2) %}
        {% if i == h.stages_count() + 1 %}
            <li class="last {{ s[i] }}">
                {% if s[i] != 'complete' %}
                <span class="highlight">{{titles[i - 1]}}</span>
                {% else %}
                    <span class="highlight">{{titles[i - 1]}}</span>
                {% endif %}
            </li>

        {% else %}
            <li class="{{orders[i - 1]}} {{ s[i] }}">
                {% if s[i] != 'complete' %}
                <span class="highlight">{{titles[i - 1]}}</span>
                {% else %}
                    <span class="highlight">{{titles[i - 1]}}</span>
                {% endif %}
            </li>
        {% endif %}

    {% endfor %}

</ol>
